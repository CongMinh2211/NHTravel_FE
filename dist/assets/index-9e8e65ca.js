import{_ as m,b as p,c as f,e as o,f as l,g as s,y as n,j as i,p as c,G as u}from"./index-7fd2beec.js";const y={data(){return{loading:!0,success:!1,result:{}}},mounted(){this.checkPayment()},methods:{formatVND(a){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a)},async checkPayment(){const a=new URLSearchParams(window.location.search),t=Object.fromEntries(a.entries());try{const r=await p.get("/payment/vnpay/return",{params:t});this.result={...t,...r.data},this.success=r.data.status===!0}catch{this.success=!1,this.result.message="KhÃ´ng thá»ƒ xÃ¡c minh giao dá»‹ch!"}this.loading=!1}}},g={class:"container py-5 text-center"},b={key:0},_={key:1,class:"alert alert-success p-4 rounded-3 shadow"},x={class:"text-danger fw-bold"},v={key:2,class:"alert alert-danger p-4 rounded-3 shadow"};function w(a,t,r,k,e,h){const d=f("router-link");return o(),l("div",g,[t[7]||(t[7]=s("h2",{class:"fw-bold mb-4"},[s("i",{class:"fa-solid fa-credit-card"}),n(" Káº¿t quáº£ thanh toÃ¡n VNPay ")],-1)),e.loading?(o(),l("div",b,[...t[0]||(t[0]=[s("div",{class:"spinner-border text-primary"},null,-1),s("p",{class:"text-muted mt-2"},"Äang xÃ¡c minh thanh toÃ¡n...",-1)])])):e.success?(o(),l("div",_,[t[4]||(t[4]=s("h3",{class:"fw-bold mb-2"},"ğŸ‰ Thanh toÃ¡n thÃ nh cÃ´ng!",-1)),s("p",null,[t[1]||(t[1]=n("MÃ£ giao dá»‹ch: ",-1)),s("b",null,i(e.result.vnp_TxnRef),1)]),s("p",null,[t[2]||(t[2]=n("Sá»‘ tiá»n: ",-1)),s("span",x,i(h.formatVND(e.result.vnp_Amount/100)),1)]),c(d,{to:"/lich-su-dat-tour",class:"btn btn-success mt-3"},{default:u(()=>[...t[3]||(t[3]=[n(" Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng ",-1)])]),_:1})])):(o(),l("div",v,[t[6]||(t[6]=s("h3",{class:"fw-bold mb-2"},"ğŸš« Thanh toÃ¡n tháº¥t báº¡i!",-1)),s("p",null,i(e.result.message||"Giao dá»‹ch khÃ´ng há»£p lá»‡"),1),c(d,{to:"/lich-su-dat-tour",class:"btn btn-danger mt-3"},{default:u(()=>[...t[5]||(t[5]=[n(" Quay vá» lá»‹ch sá»­ Ä‘Æ¡n hÃ ng ",-1)])]),_:1})]))])}const V=m(y,[["render",w]]);export{V as default};
