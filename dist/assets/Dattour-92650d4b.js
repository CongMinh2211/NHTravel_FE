import{_ as v,T as A,b as m,M as k,c as w,e as r,f as a,g as t,y as d,l as x,q as g,u as p,j as l,I as V,k as b,p as C,G as T,F as _,m as D,B}from"./index-7fd2beec.js";const z="data:image/png;base64,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",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARZSURBVFiF1ZZdbFNlGMd/72kP7T5cN7pN3NwGY1N0EmQKOMxEW9gkosTEaIgxYIzxAyJeQOBCjXeGeGFIjDFemJhA1OxGEEEMVCSSGNxHlsmFox0ouI0Ba9fRrmt7zutF2dxp37MPGTE+V83zPP+Pvuc5z3nhPw5hV6hd+fjDmtDeA5oAN4gzUvBpqKP5MLxvzhcux8Cy1X5vOiV3IdgNOBQanQieD3YEQvOBsxhYuqqlShjpX4AKu394E3UuWOtdQVubcSs4AM3SYKR2zEgCIGmoD15/9JZx2QYEWuGMJJPNsvRWcQBOS1ETbZjyzVnQyJZ7C5Zua3q2Tdekfm4o1X/m/Nhs5E1DONotfrI76hp9p4B1dgxFbo2tjxTx4N0uS/7ScIpDPXG6LiXsXSO+C3We3DQ1Z5nW+kb/JolcJRC1KoKNDQW81lxMdYkzp+bJc7B6sRvThN6hlJ2FP0srlgwPD1w8P5GxzIBEHhSI9SromsVunltZSMEC29UBwOYVhRTna8qaQKyXUhycmrN0mprcAvygAi9btGBa4UlCAbVe3aYqjkvJFlsDfe0/HtU03lVBr0TTAEQ1D1KxQCWCqOYBIJaUSnlTGu+EugLHbA0A9LYHzgJHsvOngwmiKQdrN/gpa/QR0ctJSp2k1Anr5ZQ1+li7wc+1MQehq8lcdSEO9XWdas9O504TgO56kdT4AeDpiVQ8adKbvovWfBd31JRTX+NXQi/IRaTN/uz0YYc78ZKqf9qJqmv0SYDmlTV8vHczulM9XNmRTBls/+AwZ7r/ACDYGbDVmR3jbYzcRVS30YVn/BlMdiKw7O2nmpfx4dtPTku466OjHP25NzvdIZGfjYnCA/0d38aVBu5Z4as0HbwKbAdKsxkAigpcHP/kZTyFbqX4yI0ELW98zmhcMYQ3W6QUXzicYn/vryf64OYmrH/Iv1MKjgFPAPl26PGUwcX+MK1N9Wia9fAMw2T3/u/5/eI1OziAWwjWSCl3lCxaEg4PXjgrAOoafRHAMx1yaiyvu5Ov91n2CS/s+ZKe4JXZUgBEgp2BkokhnLU4oBSaozhAMfyLt8DrXUir30cklp7MRWJpWv0+vN6Fc6Vj4hGodyfgdDh5oOE+ljfcT1VlBfn5eQDk6ZLHlibQNDgdchMbz8zE2FiC/oFBun87R3dPD4Zhe38l2BkQSgMul4sW3zrqamspWViMJtQHlb8gQx5P5tZHRke5OnSNvwYGuXT5MudDfRiGYekJdgaEchW//spWykqVb6IlVMIAUkI0GsOp69RUV1FTXUVlRQUnT/2U06tkKPXOLD5dxOIxDCNtydVUVyl7Mycg2Dc1KQR7Jn4nxscBcLusVzC7ME2TcHiEVCpjQNczEpqm5ehkpBXx1TcnJmciMhIFoNhTNCsDV68PE4vFGUtk7oZ57n+25t63tuXozevHaCQaJRaLz9x4OwyM3ogRjkTnjFNfSOYYkZHo5KP638Xfe4iRhC+qj6QAAAAASUVORK5CYII=",R="/assets/voucher-b484789c.gif",S={async mounted(){await this.checkAuth(),this.loadDatTour(),this.tinhTien()},data(){return{isLoggedIn:!1,user:{ho_ten:"",email:"",so_dien_thoai:"",dia_chi:""},id_tour:this.$route.params.id_tour,dat_tour:{},vouchers:[],loadingVoucher:!1,selectedVoucher:null,count_adult:1,count_child:0,tong_tien:0,giam_gia:0,tien_thuc_nhan:0,agreePolicy:!1,isBooking:!1,selectedPaymentMethod:"sepay"}},methods:{formatTime(i){return i.slice(0,5)},formatDate(i){const e=new Date(i);return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`},formatVND(i){return new Intl.NumberFormat("vi-VI",{style:"currency",currency:"VND"}).format(i)},updateAdult(i){const e=this.count_adult+i;if(e<1)return;const h=e+this.count_child;if(this.dat_tour.so_cho_con&&h>this.dat_tour.so_cho_con){this.$toast.error("Số khách vượt quá số chỗ còn lại của tour!");return}this.count_adult=e,this.tinhTien()},updateChild(i){const e=this.count_child+i;if(e<0)return;const h=e+this.count_adult;if(this.dat_tour.so_cho_con&&h>this.dat_tour.so_cho_con){this.$toast.error("Số khách vượt quá số chỗ còn lại của tour!");return}this.count_child=e,this.tinhTien()},checkAuth(){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(h=>new A(h));const e=JSON.parse(localStorage.getItem("auth_user"));e&&(this.isLoggedIn=!0,this.user=e)},loadDatTour(){var i={id:this.id_tour};m.post("/customer/chi-tiet-dat-tour/get-data",i).then(e=>{console.log("Dữ liệu trả về:",e.data),e.data.status?this.dat_tour=e.data.data_tour:this.$toast.error(e.data.message)})},async loadVoucher(){this.loadingVoucher=!0;let i=await m.get("/customer/voucher/list");i.data.status&&(this.vouchers=i.data.voucher),this.loadingVoucher=!1},tinhTien(){var i;m.post("/customer/dat-tour/tinh-tien",{id_tour:this.id_tour,so_nguoi_lon:this.count_adult,so_tre_em:this.count_child,id_ma_giam_gia:((i=this.selectedVoucher)==null?void 0:i.id)||null}).then(e=>{e.data.status&&(this.tong_tien=e.data.tong_tien,this.giam_gia=e.data.giam_gia,this.tien_thuc_nhan=e.data.tien_thuc_nhan)})},bookTour(){var f,s,n;if(!this.agreePolicy){this.$toast.error("Bạn phải đồng ý với điều khoản trước khi đặt tour!");return}if(!this.user.ho_ten||!this.user.ho_ten.trim()){this.$toast.error("Vui lòng nhập họ tên!");return}if(!/^0\d{9}$/.test(this.user.so_dien_thoai)){this.$toast.error("Số điện thoại phải bắt đầu bằng 0 và gồm đúng 10 số!");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.user.email)){this.$toast.error("Email không hợp lệ!");return}if(this.user.dia_chi&&this.user.dia_chi.trim().length<5){this.$toast.error("Địa chỉ quá ngắn, vui lòng nhập cụ thể hơn!");return}const h=JSON.parse(localStorage.getItem("auth_user"));if(!h){this.$toast.error("Bạn cần đăng nhập để đặt tour!");return}this.isBooking=!0,m.post("/customer/dat-tour/dat",{id_khach_hang:h.id,id_tour:this.id_tour,so_nguoi_lon:this.count_adult,so_tre_em:this.count_child,id_ma_giam_gia:((f=this.selectedVoucher)==null?void 0:f.id)??null,ten_lien_lac:this.user.ho_ten,email_lien_lac:this.user.email,so_dien_thoai_lien_lac:this.user.so_dien_thoai,dia_chi_lien_lac:this.user.dia_chi,phuong_thuc_thanh_toan:this.selectedPaymentMethod,id_phuong_tien:((n=(s=this.dat_tour.phuong_tiens)==null?void 0:s[0])==null?void 0:n.id)||null}).then(u=>{if(u.data.status){const c=u.data.data.ma_don_hang;this.selectedPaymentMethod==="sepay"?(localStorage.setItem("pending_order",JSON.stringify({ma_don_hang:c,tien_thuc_nhan:this.tien_thuc_nhan,ten_tour:this.dat_tour.ten_tour,expires_at:new Date(Date.now()+15*60*1e3).toISOString()})),window.dispatchEvent(new Event("payment-started")),this.$toast.success(u.data.message+"! Đang chuyển đến trang thanh toán..."),this.$router.push(`/thanh-toan-sepay/${c}`)):(this.$toast.success(u.data.message+"! Bạn sẽ thanh toán khi đi tour."),this.$router.push("/lich-su-don-hang"))}else this.$toast.error(u.data.message)}).catch(()=>{this.$toast.error("Có lỗi xảy ra, vui lòng thử lại!")}).finally(()=>{this.isBooking=!1})},removeVoucher(){this.selectedVoucher=null,this.giam_gia=0,this.tinhTien(),this.$toast.info("Đã xoá mã giảm giá")},chooseVoucher(i){console.log(">>> CLICK VOUCHER",i),this.selectedVoucher={...i},this.$toast.success("Đã áp dụng mã: "+i.ma),this.tinhTien();const e=k.getInstance(document.getElementById("voucher"));e&&e.hide()}},watch:{selectedVoucher(i){console.log("selectedVoucher CHANGED:",i)}}},I={class:"container"},M={class:"row"},O={class:"col-lg-7 p-4"},P={key:0,class:"alert alert-info d-flex align-items-center mb-4 p-3 rounded-3 shadow-sm",role:"alert",style:{"border-left":"5px solid #007bff","background-color":"#e7f5ff",color:"#0c5460"}},Q={class:"card shadow-sm mb-4"},U={class:"card-body"},E={class:"row g-3"},G={class:"col-md-6"},F={class:"col-md-6"},L={class:"col-md-6"},X={class:"col-md-6"},H={class:"card shadow-sm"},K={class:"card-body"},j={class:"row g-4"},W={class:"col-md-6"},Z={class:"d-flex justify-content-between align-items-center p-3 border rounded-3 bg-light"},J={class:"input-group input-group-sm",style:{width:"120px"}},Y=["disabled"],q=["value"],$={class:"col-md-6"},tt={class:"d-flex justify-content-between align-items-center p-3 border rounded-3 bg-light"},et={class:"input-group input-group-sm",style:{width:"120px"}},st=["disabled"],ot=["value"],it={class:"col-lg-5"},nt={class:"card",style:{"background-color":"#FAFAFA"}},lt={class:"card-body"},dt={class:"d-flex flex-row mb-3"},rt={class:"p-2"},at=["src"],ht={class:"p-2"},ut={style:{"font-size":"20px"}},ct={class:"mt-2"},gt={class:"text-primary"},mt={class:"mt-2"},pt={class:"text-danger"},bt={style:{"font-size":"18px"}},ft={class:"text-primary"},yt={class:"d-flex mt-3"},xt={class:"pe-3",style:{"margin-right":"10px"}},_t={class:"mt-2",style:{display:"flex","flex-direction":"column","align-items":"center"}},vt={style:{display:"flex","justify-content":"space-between",width:"100%","font-weight":"bold"}},At={class:"ps-3 border-start mb-3"},kt={style:{"margin-left":"60px"}},wt={class:"mt-2",style:{display:"flex","flex-direction":"column","align-items":"center"}},Vt={style:{display:"flex","justify-content":"end",width:"100%","font-weight":"bold"}},Ct={style:{display:"flex","justify-content":"space-between"}},Tt={style:{"font-size":"16px"}},Dt={style:{display:"flex","justify-content":"space-between"}},Bt={style:{"font-size":"16px"}},zt={class:"mt-3 mb-3",style:{display:"flex","justify-content":"space-between"}},Nt={key:0,class:"p-3 mb-2 border rounded bg-light d-flex justify-content-between",style:{"align-items":"center"}},Rt={class:"text-muted mb-1"},St={class:"form-check mt-3"},It={class:"d-flex justify-content-between"},Mt={class:"text-danger"},Ot={class:"mb-3"},Pt={class:"d-flex align-items-center"},Qt={key:0,class:"fa-solid fa-circle-check text-success ms-auto fa-lg"},Ut={key:1,class:"fa-regular fa-circle text-muted ms-auto fa-lg"},Et={class:"d-flex align-items-center"},Gt={key:0,class:"fa-solid fa-circle-check text-success ms-auto fa-lg"},Ft={key:1,class:"fa-regular fa-circle text-muted ms-auto fa-lg"},Lt={key:0},Xt={key:1},Ht={class:"text-end"},Kt={class:"modal fade",id:"voucher",tabindex:"-1","aria-labelledby":"voucherLabel","aria-hidden":"true",style:{top:"200px"}},jt={class:"modal-dialog"},Wt={class:"modal-content"},Zt={class:"modal-body"},Jt={key:0},Yt={key:1},qt=["onClick"],$t={class:"text-muted"};function te(i,e,h,f,s,n){var c,y;const u=w("router-link");return r(),a(_,null,[t("div",I,[e[53]||(e[53]=t("h2",{class:"text-center mb-1 mt-4"},[t("i",{class:"fa-solid fa-car-on me-3 fa-lg text-primary"}),t("span",{class:"fw-bolder",style:{color:"#007bff"}},"Hoàn Tất Đặt Tour")],-1)),e[54]||(e[54]=t("p",{class:"text-center text-muted mb-5 mt-3"}," Vui lòng điền thông tin liên hệ và số lượng hành khách chính xác ",-1)),t("div",M,[t("div",O,[e[23]||(e[23]=t("h3",{class:"mb-4 fw-bold text-primary"},"Thông Tin Đặt Chỗ",-1)),e[24]||(e[24]=t("hr",{class:"mb-4"},null,-1)),s.isLoggedIn?x("",!0):(r(),a("div",P,[...e[14]||(e[14]=[t("i",{class:"fa-solid fa-user-circle me-3 fa-lg"},null,-1),t("div",null,[d(" Bạn chưa đăng nhập. "),t("a",{href:"/dang-nhap",class:"alert-link fw-bold",style:{color:"#0c5460"}},"Đăng nhập ngay"),d(" để nhận ưu đãi, tích điểm và quản lý đơn hàng dễ dàng hơn! ")],-1)])])),t("div",Q,[e[19]||(e[19]=t("div",{class:"card-header py-3",style:{"background-color":"#007bff",color:"white"}},[t("h5",{class:"mb-0"},[t("i",{class:"fa-solid fa-address-book me-2"}),d(" Thông tin liên lạc")])],-1)),t("div",U,[t("div",E,[t("div",G,[e[15]||(e[15]=t("label",{class:"form-label fw-bold"},[d("Họ tên "),t("span",{class:"text-danger"},"*")],-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.user.ho_ten=o),type:"text",placeholder:"Ví dụ: Nguyễn Văn A",class:"form-control form-control-lg",style:{"border-radius":"50rem"}},null,512),[[p,s.user.ho_ten]])]),t("div",F,[e[16]||(e[16]=t("label",{class:"form-label fw-bold"},[d("Điện thoại "),t("span",{class:"text-danger"},"*")],-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.user.so_dien_thoai=o),class:"form-control form-control-lg",type:"tel",placeholder:"Nhập số điện thoại",style:{"border-radius":"50rem"}},null,512),[[p,s.user.so_dien_thoai]])]),t("div",L,[e[17]||(e[17]=t("label",{class:"form-label fw-bold"},[d("Email "),t("span",{class:"text-danger"},"*")],-1)),g(t("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=o=>s.user.email=o),placeholder:"Nhập email",class:"form-control form-control-lg",style:{"border-radius":"50rem"}},null,512),[[p,s.user.email]])]),t("div",X,[e[18]||(e[18]=t("label",{class:"form-label fw-bold"},"Địa chỉ",-1)),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.user.dia_chi=o),class:"form-control form-control-lg",type:"text",placeholder:"Nhập địa chỉ",style:{"border-radius":"50rem"}},null,512),[[p,s.user.dia_chi]])])])])]),t("div",H,[e[22]||(e[22]=t("div",{class:"card-header py-3",style:{"background-color":"#28a745",color:"white"}},[t("h5",{class:"mb-0"},[t("i",{class:"fa-solid fa-users me-2"}),d(" Số lượng hành khách")])],-1)),t("div",K,[t("div",j,[t("div",W,[t("div",Z,[e[20]||(e[20]=t("div",null,[t("div",{class:"fw-bold fs-5"},"Người lớn"),t("small",{class:"text-muted"},[d(" Từ 12 tuổi trở lên "),t("i",{class:"fa-solid fa-circle-info ms-1 text-info","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Sinh trước năm 2013"})])],-1)),t("div",J,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[4]||(e[4]=o=>n.updateAdult(-1)),disabled:s.count_adult<=1,style:{width:"35px",height:"35px","font-size":"1.2rem","font-weight":"bold",padding:"0","border-top-left-radius":"50rem","border-bottom-left-radius":"50rem","border-right":"none"}},"–",8,Y),t("input",{type:"text",class:"form-control text-center bg-white",value:s.count_adult,readonly:"",style:{height:"35px","border-radius":"0 !important","border-top":"1px solid #ced4da","border-bottom":"1px solid #ced4da","border-left":"none","border-right":"none"}},null,8,q),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[5]||(e[5]=o=>n.updateAdult(1)),style:{width:"35px",height:"35px","font-size":"1.2rem","font-weight":"bold",padding:"0","border-top-right-radius":"50rem","border-bottom-right-radius":"50rem","border-left":"none"}},"+")])])]),t("div",$,[t("div",tt,[e[21]||(e[21]=t("div",null,[t("div",{class:"fw-bold fs-5"},"Trẻ em"),t("small",{class:"text-muted"},[d(" Dưới 11 tuổi trở xuống "),t("i",{class:"fa-solid fa-circle-info ms-1 text-info","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Sinh trước năm 2023"})])],-1)),t("div",et,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[6]||(e[6]=o=>n.updateChild(-1)),disabled:s.count_child<=0,style:{width:"35px",height:"35px","font-size":"1.2rem","font-weight":"bold",padding:"0","border-top-left-radius":"50rem","border-bottom-left-radius":"50rem","border-right":"none"}},"–",8,st),t("input",{type:"text",class:"form-control text-center bg-white",value:s.count_child,readonly:"",style:{height:"35px","border-radius":"0 !important","border-top":"1px solid #ced4da","border-bottom":"1px solid #ced4da","border-left":"none","border-right":"none"}},null,8,ot),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[7]||(e[7]=o=>n.updateChild(1)),style:{width:"35px",height:"35px","font-size":"1.2rem","font-weight":"bold",padding:"0","border-top-right-radius":"50rem","border-bottom-right-radius":"50rem","border-left":"none"}},"+")])])])])])])]),t("div",it,[e[52]||(e[52]=t("h5",{class:"mb-3"},[t("b",null,"Tóm tắt chuyến đi")],-1)),t("div",nt,[t("div",lt,[t("div",dt,[t("div",rt,[t("img",{src:s.dat_tour.anh_dai_dien||"https://i.pinimg.com/736x/eb/55/4c/eb554c8ebd4ee9ff53b270504839b3d9.jpg",style:{"border-radius":"10px",height:"130px",width:"160px"}},null,8,at)]),t("div",ht,[t("b",ut,l(s.dat_tour.ten_tour),1),t("p",ct,[e[25]||(e[25]=t("i",{class:"fa-solid fa-ticket me-2"},null,-1)),e[26]||(e[26]=d("Mã tour: ",-1)),t("b",gt,l(s.dat_tour.ma_tour),1)]),t("p",mt,[e[27]||(e[27]=t("i",{class:"fa-solid fa-check-to-slot me-2"},null,-1)),e[28]||(e[28]=d("Số chỗ còn: ",-1)),t("b",pt,l(s.dat_tour.so_cho_con),1)])])]),e[43]||(e[43]=t("hr",null,null,-1)),e[44]||(e[44]=t("img",{src:z,class:"me-2"},null,-1)),t("b",bt,[e[29]||(e[29]=d("Thông tin chuyến ",-1)),t("span",ft,l(((y=(c=s.dat_tour.phuong_tiens)==null?void 0:c[0])==null?void 0:y.ten_phuong_tien)||"phương tiện"),1)]),t("div",yt,[t("div",xt,[t("b",null,"Ngày đi - "+l(n.formatDate(s.dat_tour.ngay_di)),1),t("div",_t,[t("div",vt,[t("span",null,l(s.dat_tour.gio_di),1)]),e[30]||(e[30]=t("div",{style:{position:"relative",width:"220px",height:"10px","margin-top":"5px"}},[t("div",{style:{height:"2px",width:"100%",background:"#bbb",position:"absolute",top:"4px",left:"0"}}),t("div",{style:{width:"9px",height:"9px",background:"#aaa",position:"absolute",left:"0",top:"0","border-radius":"2px"}}),t("div",{style:{width:"9px",height:"9px",background:"#aaa",position:"absolute",right:"-1px",top:"0","border-radius":"2px"}})],-1))])]),t("div",At,[t("b",kt,"Ngày về - "+l(n.formatDate(s.dat_tour.ngay_ve)),1),t("div",wt,[t("div",Vt,[t("span",null,l(s.dat_tour.gio_ve),1)]),e[31]||(e[31]=t("div",{style:{position:"relative",width:"220px",height:"10px","margin-top":"5px"}},[t("div",{style:{height:"2px",width:"100%",background:"#bbb",position:"absolute",top:"4px",left:"0"}}),t("div",{style:{width:"9px",height:"9px",background:"#aaa",position:"absolute",left:"0",top:"0","border-radius":"2px"}}),t("div",{style:{width:"9px",height:"9px",background:"#aaa",position:"absolute",right:"-1px",top:"0","border-radius":"2px"}})],-1))])])]),e[45]||(e[45]=t("hr",null,null,-1)),e[46]||(e[46]=t("div",{style:{display:"flex","justify-content":"space-between"}},[t("div",null,[t("img",{src:N,class:"me-2"}),t("b",{style:{"font-size":"18px"}},"Khách hàng: ")])],-1)),t("div",Ct,[e[32]||(e[32]=t("span",{style:{"font-size":"15px","margin-top":"10px"}},"Người lớn: ",-1)),t("b",Tt,l(s.count_adult)+" x "+l(n.formatVND(s.dat_tour.gia_nguoi_lon)),1)]),t("div",Dt,[e[33]||(e[33]=t("span",{style:{"font-size":"15px","margin-top":"10px"}},"Trẻ em: ",-1)),t("b",Bt,l(s.count_child)+" x "+l(n.formatVND(s.dat_tour.gia_tre_em)),1)]),e[47]||(e[47]=t("hr",null,null,-1)),t("div",zt,[e[35]||(e[35]=t("div",null,[t("img",{alt:"alt",title:"voucher",loading:"lazy",width:"25",height:"25",decoding:"async","data-nimg":"1",src:R,style:{color:"transparent","max-width":"100%","margin-right":"10px"}}),t("b",{style:{"font-size":"18px"}},"Mã giảm giá: ")],-1)),t("div",{"data-bs-toggle":"modal","data-bs-target":"#voucher",onClick:e[8]||(e[8]=(...o)=>n.loadVoucher&&n.loadVoucher(...o))},[...e[34]||(e[34]=[t("i",{class:"fa-solid fa-circle-plus me-2 text-danger"},null,-1),t("b",{class:"text-danger",style:{"font-size":"18px"}},"Thêm mã giảm giá: ",-1)])])]),s.selectedVoucher?(r(),a("div",Nt,[t("div",null,[t("b",null,"Mã đã chọn: "+l(s.selectedVoucher.ma)+" - "+l(s.selectedVoucher.phan_tram_giam)+"%",1),t("p",Rt,l(s.selectedVoucher.mo_ta),1)]),t("span",{onClick:e[9]||(e[9]=(...o)=>n.removeVoucher&&n.removeVoucher(...o)),class:"text-danger",style:{cursor:"pointer","font-weight":"bold"}}," Xóa mã ")])):x("",!0),e[48]||(e[48]=t("hr",null,null,-1)),t("div",St,[g(t("input",{class:"form-check-input",type:"checkbox",id:"agreePolicy","onUpdate:modelValue":e[10]||(e[10]=o=>s.agreePolicy=o)},null,512),[[V,s.agreePolicy]]),e[36]||(e[36]=t("label",{class:"form-check-label",for:"agreePolicy"},[d(" Tôi đồng ý với "),t("a",{href:"/chinh-sach-bao-mat",class:"text-primary fw-semibold"},"Chính sách"),d(" bảo vệ dữ liệu cá nhân và các "),t("a",{href:"/dieu-khoan-su-dung",class:"text-primary fw-semibold"}," điều khoản"),d(". ")],-1))]),e[49]||(e[49]=t("hr",null,null,-1)),t("div",It,[e[37]||(e[37]=t("h3",null,[t("b",null,"Tổng tiền")],-1)),t("h3",null,[t("b",Mt,l(n.formatVND(s.tien_thuc_nhan)),1)])]),e[50]||(e[50]=t("hr",null,null,-1)),t("div",Ot,[e[42]||(e[42]=t("h6",{class:"fw-bold mb-3"},[t("i",{class:"fa-solid fa-credit-card me-2"}),d("Phương thức thanh toán")],-1)),t("div",{class:b(["payment-option p-3 border rounded-3 mb-2 cursor-pointer transition-all",s.selectedPaymentMethod==="sepay"?"border-primary bg-light shadow-sm":"border-light"]),onClick:e[11]||(e[11]=o=>s.selectedPaymentMethod="sepay")},[t("div",Pt,[e[39]||(e[39]=t("img",{src:"https://cdn.haitrieu.com/wp-content/uploads/2022/10/Icon-VIETQR.png",alt:"VietQR",style:{height:"35px"},class:"me-3"},null,-1)),t("div",null,[t("b",{class:b(s.selectedPaymentMethod==="sepay"?"text-primary":"")},"Chuyển khoản ngân hàng",2),e[38]||(e[38]=t("small",{class:"d-block text-muted"},"Quét mã VietQR - Tự động xác nhận",-1))]),s.selectedPaymentMethod==="sepay"?(r(),a("i",Qt)):(r(),a("i",Ut))])],2),t("div",{class:b(["payment-option p-3 border rounded-3 cursor-pointer transition-all",s.selectedPaymentMethod==="cash"?"border-primary bg-light shadow-sm":"border-light"]),onClick:e[12]||(e[12]=o=>s.selectedPaymentMethod="cash")},[t("div",Et,[e[41]||(e[41]=t("div",{class:"bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"35px",height:"35px"}},[t("i",{class:"fa-solid fa-hand-holding-dollar"})],-1)),t("div",null,[t("b",{class:b(s.selectedPaymentMethod==="cash"?"text-primary":"")},"Thanh toán khi đi tour",2),e[40]||(e[40]=t("small",{class:"d-block text-muted"},"Thanh toán trực tiếp cho HDV",-1))]),s.selectedPaymentMethod==="cash"?(r(),a("i",Gt)):(r(),a("i",Ft))])],2)]),t("button",{onClick:e[13]||(e[13]=(...o)=>n.bookTour&&n.bookTour(...o)),class:"btn btn-danger w-100 mt-3",style:{"font-size":"18px"}},[s.isBooking?(r(),a("b",Xt,"Đang xử lý...")):(r(),a("b",Lt,"Đặt ngay & Thanh toán"))])])]),t("div",Ht,[C(u,{to:"/lien-he"},{default:T(()=>[...e[51]||(e[51]=[t("button",{class:"btn btn-outline-primary mb-3"},[t("i",{class:"fa-solid fa-envelope-open me-2"}),d("Liên hệ tư vấn")],-1)])]),_:1})])])])]),t("div",Kt,[t("div",jt,[t("div",Wt,[e[56]||(e[56]=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"voucherLabel"},[t("i",{class:"fa-solid fa-ticket me-2",style:{color:"#ff3300"}}),d("Sử dụng mã giảm giá")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",Zt,[s.vouchers.length===0?(r(),a("div",Jt,[...e[55]||(e[55]=[t("p",{class:"text-muted"},"Không có mã giảm giá phù hợp",-1)])])):(r(),a("div",Yt,[(r(!0),a(_,null,D(s.vouchers,o=>(r(),a("div",{key:o.id,class:"border rounded p-3 mb-2",style:{cursor:"pointer"},onClick:B(ee=>n.chooseVoucher(o),["stop"]),"data-bs-dismiss":"modal"},[t("b",null,l(o.ma)+" - "+l(o.phan_tram_giam)+"%",1),t("p",$t,l(o.mo_ta),1)],8,qt))),128))]))]),e[57]||(e[57]=t("div",{class:"modal-footer"}," * Đã hiển thị hết mã ưu đãi bạn có thể sử dụng ",-1))])])])],64)}const oe=v(S,[["render",te]]);export{oe as default};
